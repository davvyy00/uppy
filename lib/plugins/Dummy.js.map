{"version":3,"sources":["../../src/plugins/Dummy.js"],"names":["Plugin","require","h","module","exports","uppy","opts","type","id","title","defaultOptions","strange","render","bind","install","addFakeFileJustToTest","blob","Blob","file","source","name","data","props","log","addFile","err","state","bla","dummy","text","setState","target","mount","setTimeout"],"mappings":";;;;;;;;AAAA,IAAMA,SAASC,QAAQ,gBAAR,CAAf;;eACcA,QAAQ,QAAR,C;IAANC,C,YAAAA,C;;AAER;;;;;;AAIAC,OAAOC,OAAP;AAAA;;AACE,iBAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AAAA;;AAAA,iDACvB,mBAAMD,IAAN,EAAYC,IAAZ,CADuB;;AAEvB,UAAKC,IAAL,GAAY,UAAZ;AACA,UAAKC,EAAL,GAAU,MAAKF,IAAL,CAAUE,EAAV,IAAgB,OAA1B;AACA,UAAKC,KAAL,GAAa,YAAb;;AAEA;AACA,QAAMC,iBAAiB,EAAvB;;AAEA;AACA,UAAKJ,IAAL,GAAY,SAAc,EAAd,EAAkBI,cAAlB,EAAkCJ,IAAlC,CAAZ;;AAEA,UAAKK,OAAL,GAAe;AAAA;AAAA;AAAA;AAAA,KAAf;AACA,UAAKC,MAAL,GAAc,MAAKA,MAAL,CAAYC,IAAZ,OAAd;AACA,UAAKC,OAAL,GAAe,MAAKA,OAAL,CAAaD,IAAb,OAAf;AAduB;AAexB;;AAhBH,kBAkBEE,qBAlBF,oCAkB2B;AACvB,QAAMC,OAAO,IAAIC,IAAJ,CACX,CAAC,4HAAD,CADW,EAEX,EAACV,MAAM,eAAP,EAFW,CAAb;AAIA,QAAMW,OAAO;AACXC,cAAQ,iBADG;AAEXC,YAAM,WAFK;AAGXb,YAAM,eAHK;AAIXc,YAAML;AAJK,KAAb;AAMA,SAAKM,KAAL,CAAWC,GAAX,CAAe,uBAAf;AACA,QAAI;AACF,WAAKD,KAAL,CAAWE,OAAX,CAAmBN,IAAnB;AACD,KAFD,CAEE,OAAOO,GAAP,EAAY;AACZ;AACD;AACF,GAnCH;;AAAA,kBAqCEb,MArCF,mBAqCUc,KArCV,EAqCiB;AACb,QAAMC,MAAM;AAAA;AAAA;AAAA;AAAA,KAAZ;AACA,WACE;AAAA;AAAA,QAAK,SAAM,gBAAX;AACE,mBAAO,SAAM,sBAAb,EAAoC,MAAK,MAAzC,EAAgD,OAAM,OAAtD,GADF;AAEG,WAAKhB,OAFR;AAGGgB,SAHH;AAIGD,YAAME,KAAN,CAAYC;AAJf,KADF;AAQD,GA/CH;;AAAA,kBAiDEf,OAjDF,sBAiDa;AAAA;;AACT,SAAKT,IAAL,CAAUyB,QAAV,CAAmB;AACjBF,aAAO,EAAEC,MAAM,KAAR;AADU,KAAnB;;AAIA,QAAME,SAAS,KAAKzB,IAAL,CAAUyB,MAAzB;AACA,QAAIA,MAAJ,EAAY;AACV,WAAKC,KAAL,CAAWD,MAAX,EAAmB,IAAnB;AACD;;AAEDE,eAAW,YAAM;AACf,aAAK5B,IAAL,CAAUyB,QAAV,CAAmB;AACjBF,eAAO,EAACC,MAAM,KAAP;AADU,OAAnB;AAGD,KAJD,EAIG,IAJH;AAKD,GAhEH;;AAAA;AAAA,EAAqC7B,MAArC;;AAmEA;AACA;AACA;AACA;AACA","file":"Dummy.js","sourcesContent":["const Plugin = require('../core/Plugin')\r\nconst { h } = require('preact')\r\n\r\n/**\r\n * Dummy\r\n * A test plugin, does nothing useful\r\n */\r\nmodule.exports = class Dummy extends Plugin {\r\n  constructor (uppy, opts) {\r\n    super(uppy, opts)\r\n    this.type = 'acquirer'\r\n    this.id = this.opts.id || 'Dummy'\r\n    this.title = 'Mr. Plugin'\r\n\r\n    // set default options\r\n    const defaultOptions = {}\r\n\r\n    // merge default options with the ones set by user\r\n    this.opts = Object.assign({}, defaultOptions, opts)\r\n\r\n    this.strange = <h1>this is strange 1</h1>\r\n    this.render = this.render.bind(this)\r\n    this.install = this.install.bind(this)\r\n  }\r\n\r\n  addFakeFileJustToTest () {\r\n    const blob = new Blob(\r\n      ['data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTIwIDEyMCI+CiAgPGNpcmNsZSBjeD0iNjAiIGN5PSI2MCIgcj0iNTAiLz4KPC9zdmc+Cg=='],\r\n      {type: 'image/svg+xml'}\r\n    )\r\n    const file = {\r\n      source: 'acceptance-test',\r\n      name: 'test-file',\r\n      type: 'image/svg+xml',\r\n      data: blob\r\n    }\r\n    this.props.log('Adding fake file blob')\r\n    try {\r\n      this.props.addFile(file)\r\n    } catch (err) {\r\n      // Nothing, restriction errors handled in Core\r\n    }\r\n  }\r\n\r\n  render (state) {\r\n    const bla = <h2>this is strange 2</h2>\r\n    return (\r\n      <div class=\"wow-this-works\">\r\n        <input class=\"UppyDummy-firstInput\" type=\"text\" value=\"hello\" />\r\n        {this.strange}\r\n        {bla}\r\n        {state.dummy.text}\r\n      </div>\r\n    )\r\n  }\r\n\r\n  install () {\r\n    this.uppy.setState({\r\n      dummy: { text: '123' }\r\n    })\r\n\r\n    const target = this.opts.target\r\n    if (target) {\r\n      this.mount(target, this)\r\n    }\r\n\r\n    setTimeout(() => {\r\n      this.uppy.setState({\r\n        dummy: {text: '!!!'}\r\n      })\r\n    }, 2000)\r\n  }\r\n}\r\n\r\n// module.exports = function (core, opts) {\r\n//   if (!(this instanceof Dummy)) {\r\n//     return new Dummy(core, opts)\r\n//   }\r\n// }\r\n"]}