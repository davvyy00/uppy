{"version":3,"sources":["../../../src/plugins/StatusBar/StatusBar.js"],"names":["throttle","require","classNames","statusBarStates","h","calculateProcessingProgress","files","progresses","Object","keys","forEach","fileID","progress","preprocess","push","postprocess","mode","message","value","filter","isDeterminate","reduce","total","index","all","length","togglePauseResume","props","isAllComplete","resumableUploads","cancelAll","isAllPaused","resumeAll","pauseAll","module","exports","uploadState","progressValue","totalProgress","progressMode","progressBarContent","STATE_PREPROCESSING","STATE_POSTPROCESSING","ProgressBarProcessing","STATE_COMPLETE","ProgressBarComplete","STATE_UPLOADING","ProgressBarUploading","STATE_ERROR","undefined","ProgressBarError","width","isHidden","STATE_WAITING","hideUploadButton","newFiles","hideAfterFinish","progressClassNames","statusBarClassNames","showProgressDetails","error","hideRetryButton","hidePauseResumeCancelButtons","UploadBtn","uploadBtnClassNames","i18n","smart_count","startUpload","uploadStarted","RetryBtn","retryAll","CancelBtn","PauseResumeButtons","title","Math","round","progressDetails","inProgress","complete","totalUploadedSize","totalSize","time","totalETA","ThrottledProgressDetails","leading","trailing","isUploadStarted"],"mappings":"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","file":"StatusBar.js","sourcesContent":["const throttle = require('lodash.throttle')\r\nconst classNames = require('classnames')\r\nconst statusBarStates = require('./StatusBarStates')\r\nconst { h } = require('preact')\r\n\r\nfunction calculateProcessingProgress (files) {\r\n  // Collect pre or postprocessing progress states.\r\n  const progresses = []\r\n  Object.keys(files).forEach((fileID) => {\r\n    const { progress } = files[fileID]\r\n    if (progress.preprocess) {\r\n      progresses.push(progress.preprocess)\r\n    }\r\n    if (progress.postprocess) {\r\n      progresses.push(progress.postprocess)\r\n    }\r\n  })\r\n\r\n  // In the future we should probably do this differently. For now we'll take the\r\n  // mode and message from the first fileâ€¦\r\n  const { mode, message } = progresses[0]\r\n  const value = progresses.filter(isDeterminate).reduce((total, progress, index, all) => {\r\n    return total + progress.value / all.length\r\n  }, 0)\r\n  function isDeterminate (progress) {\r\n    return progress.mode === 'determinate'\r\n  }\r\n\r\n  return {\r\n    mode,\r\n    message,\r\n    value\r\n  }\r\n}\r\n\r\nfunction togglePauseResume (props) {\r\n  if (props.isAllComplete) return\r\n\r\n  if (!props.resumableUploads) {\r\n    return props.cancelAll()\r\n  }\r\n\r\n  if (props.isAllPaused) {\r\n    return props.resumeAll()\r\n  }\r\n\r\n  return props.pauseAll()\r\n}\r\n\r\nmodule.exports = (props) => {\r\n  props = props || {}\r\n\r\n  const uploadState = props.uploadState\r\n\r\n  let progressValue = props.totalProgress\r\n  let progressMode\r\n  let progressBarContent\r\n\r\n  if (uploadState === statusBarStates.STATE_PREPROCESSING || uploadState === statusBarStates.STATE_POSTPROCESSING) {\r\n    const progress = calculateProcessingProgress(props.files)\r\n    progressMode = progress.mode\r\n    if (progressMode === 'determinate') {\r\n      progressValue = progress.value * 100\r\n    }\r\n\r\n    progressBarContent = ProgressBarProcessing(progress)\r\n  } else if (uploadState === statusBarStates.STATE_COMPLETE) {\r\n    progressBarContent = ProgressBarComplete(props)\r\n  } else if (uploadState === statusBarStates.STATE_UPLOADING) {\r\n    progressBarContent = ProgressBarUploading(props)\r\n  } else if (uploadState === statusBarStates.STATE_ERROR) {\r\n    progressValue = undefined\r\n    progressBarContent = ProgressBarError(props)\r\n  }\r\n\r\n  const width = typeof progressValue === 'number' ? progressValue : 100\r\n  const isHidden = (uploadState === statusBarStates.STATE_WAITING && props.hideUploadButton) ||\r\n    (uploadState === statusBarStates.STATE_WAITING && !props.newFiles > 0) ||\r\n    (uploadState === statusBarStates.STATE_COMPLETE && props.hideAfterFinish)\r\n\r\n  const progressClassNames = `uppy-StatusBar-progress\r\n                           ${progressMode ? 'is-' + progressMode : ''}`\r\n\r\n  const statusBarClassNames = classNames(\r\n    'uppy',\r\n    'uppy-StatusBar',\r\n    `is-${uploadState}`,\r\n    { 'uppy-StatusBar--detailedProgress': props.showProgressDetails }\r\n  )\r\n\r\n  return (\r\n    <div class={statusBarClassNames} aria-hidden={isHidden}>\r\n      <div class={progressClassNames}\r\n        style={{ width: width + '%' }}\r\n        role=\"progressbar\"\r\n        aria-valuemin=\"0\"\r\n        aria-valuemax=\"100\"\r\n        aria-valuenow={progressValue} />\r\n      {progressBarContent}\r\n      <div class=\"uppy-StatusBar-actions\">\r\n        { props.newFiles && !props.hideUploadButton ? <UploadBtn {...props} uploadState={uploadState} /> : null }\r\n        { props.error && !props.hideRetryButton ? <RetryBtn {...props} /> : null }\r\n        { !props.hidePauseResumeCancelButtons && uploadState !== statusBarStates.STATE_WAITING && uploadState !== statusBarStates.STATE_COMPLETE\r\n          ? <CancelBtn {...props} />\r\n          : null\r\n        }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst UploadBtn = (props) => {\r\n  const uploadBtnClassNames = classNames(\r\n    'uppy-u-reset',\r\n    'uppy-c-btn',\r\n    'uppy-StatusBar-actionBtn',\r\n    'uppy-StatusBar-actionBtn--upload',\r\n    { 'uppy-c-btn-primary': props.uploadState === statusBarStates.STATE_WAITING }\r\n  )\r\n\r\n  return <button type=\"button\"\r\n    class={uploadBtnClassNames}\r\n    aria-label={props.i18n('uploadXFiles', { smart_count: props.newFiles })}\r\n    onclick={props.startUpload}>\r\n    {props.newFiles && props.uploadStarted\r\n      ? props.i18n('uploadXNewFiles', { smart_count: props.newFiles })\r\n      : props.i18n('uploadXFiles', { smart_count: props.newFiles })\r\n    }\r\n  </button>\r\n}\r\n\r\nconst RetryBtn = (props) => {\r\n  return <button type=\"button\"\r\n    class=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--retry\"\r\n    aria-label={props.i18n('retryUpload')}\r\n    onclick={props.retryAll}>{props.i18n('retry')}</button>\r\n}\r\n\r\nconst CancelBtn = (props) => {\r\n  return <button type=\"button\"\r\n    class=\"uppy-u-reset uppy-c-btn uppy-StatusBar-actionBtn uppy-StatusBar-actionBtn--cancel\"\r\n    aria-label={props.i18n('cancel')}\r\n    onclick={props.cancelAll}>{props.i18n('cancel')}</button>\r\n}\r\n\r\nconst PauseResumeButtons = (props) => {\r\n  const { resumableUploads, isAllPaused, i18n } = props\r\n  const title = resumableUploads\r\n                ? isAllPaused\r\n                  ? i18n('resumeUpload')\r\n                  : i18n('pauseUpload')\r\n                : i18n('cancelUpload')\r\n\r\n  return <button title={title} class=\"uppy-u-reset uppy-StatusBar-statusIndicator\" type=\"button\" onclick={() => togglePauseResume(props)}>\r\n    {resumableUploads\r\n      ? isAllPaused\r\n        ? <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"15\" height=\"17\" viewBox=\"0 0 11 13\">\r\n          <path d=\"M1.26 12.534a.67.67 0 0 1-.674.012.67.67 0 0 1-.336-.583v-11C.25.724.38.5.586.382a.658.658 0 0 1 .673.012l9.165 5.5a.66.66 0 0 1 .325.57.66.66 0 0 1-.325.573l-9.166 5.5z\" />\r\n        </svg>\r\n        : <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"16\" height=\"17\" viewBox=\"0 0 12 13\">\r\n          <path d=\"M4.888.81v11.38c0 .446-.324.81-.722.81H2.722C2.324 13 2 12.636 2 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81zM9.888.81v11.38c0 .446-.324.81-.722.81H7.722C7.324 13 7 12.636 7 12.19V.81c0-.446.324-.81.722-.81h1.444c.398 0 .722.364.722.81z\" />\r\n        </svg>\r\n      : <svg aria-hidden=\"true\" class=\"UppyIcon\" width=\"16px\" height=\"16px\" viewBox=\"0 0 19 19\">\r\n        <path d=\"M17.318 17.232L9.94 9.854 9.586 9.5l-.354.354-7.378 7.378h.707l-.62-.62v.706L9.318 9.94l.354-.354-.354-.354L1.94 1.854v.707l.62-.62h-.706l7.378 7.378.354.354.354-.354 7.378-7.378h-.707l.622.62v-.706L9.854 9.232l-.354.354.354.354 7.378 7.378.708-.707-7.38-7.378v.708l7.38-7.38.353-.353-.353-.353-.622-.622-.353-.353-.354.352-7.378 7.38h.708L2.56 1.23 2.208.88l-.353.353-.622.62-.353.355.352.353 7.38 7.38v-.708l-7.38 7.38-.353.353.352.353.622.622.353.353.354-.353 7.38-7.38h-.708l7.38 7.38z\" />\r\n      </svg>\r\n    }\r\n  </button>\r\n}\r\n\r\nconst ProgressBarProcessing = (props) => {\r\n  const value = Math.round(props.value * 100)\r\n\r\n  return <div class=\"uppy-StatusBar-content\">\r\n    {props.mode === 'determinate' ? `${value}% \\u00B7 ` : ''}\r\n    {props.message}\r\n  </div>\r\n}\r\n\r\nconst progressDetails = (props) => {\r\n  return <span class=\"uppy-StatusBar-statusSecondary\">\r\n    { props.inProgress > 1 && props.i18n('filesUploadedOfTotal', { complete: props.complete, smart_count: props.inProgress }) + ' \\u00B7 ' }\r\n    { props.i18n('dataUploadedOfTotal', { complete: props.totalUploadedSize, total: props.totalSize }) + ' \\u00B7 ' }\r\n    { props.i18n('xTimeLeft', { time: props.totalETA }) }\r\n  </span>\r\n}\r\n\r\nconst ThrottledProgressDetails = throttle(progressDetails, 500, { leading: true, trailing: true })\r\n\r\nconst ProgressBarUploading = (props) => {\r\n  if (!props.isUploadStarted || props.isAllComplete) {\r\n    return null\r\n  }\r\n\r\n  const title = props.isAllPaused ? props.i18n('paused') : props.i18n('uploading')\r\n\r\n  return (\r\n    <div class=\"uppy-StatusBar-content\" aria-label={title} title={title}>\r\n      { !props.hidePauseResumeCancelButtons && <PauseResumeButtons {...props} /> }\r\n      <div class=\"uppy-StatusBar-status\">\r\n        <span class=\"uppy-StatusBar-statusPrimary\">{title}: {props.totalProgress}%</span>\r\n        <br />\r\n        { !props.isAllPaused && <ThrottledProgressDetails {...props} /> }\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ProgressBarComplete = ({ totalProgress, i18n }) => {\r\n  return (\r\n    <div class=\"uppy-StatusBar-content\" role=\"status\" title={i18n('complete')}>\r\n      <svg aria-hidden=\"true\" class=\"uppy-StatusBar-statusIndicator UppyIcon\" width=\"18\" height=\"17\" viewBox=\"0 0 23 17\">\r\n        <path d=\"M8.944 17L0 7.865l2.555-2.61 6.39 6.525L20.41 0 23 2.645z\" />\r\n      </svg>\r\n      {i18n('complete')}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst ProgressBarError = ({ error, retryAll, hideRetryButton, i18n }) => {\r\n  return (\r\n    <div class=\"uppy-StatusBar-content\" role=\"alert\">\r\n      <strong class=\"uppy-StatusBar-contentPadding\">{i18n('uploadFailed')}.</strong>\r\n      { !hideRetryButton && <span class=\"uppy-StatusBar-contentPadding\">{i18n('pleasePressRetry')}</span> }\r\n      <span class=\"uppy-StatusBar-details\"\r\n        aria-label={error}\r\n        data-microtip-position=\"top\"\r\n        data-microtip-size=\"large\"\r\n        role=\"tooltip\">?</span>\r\n    </div>\r\n  )\r\n}\r\n"]}