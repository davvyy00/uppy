{"version":3,"sources":["../../src/plugins/MagicLog.js"],"names":["Plugin","require","module","exports","uppy","opts","type","id","title","defaultOptions","handleStateUpdate","bind","prev","state","patch","console","group","log","groupEnd","install","on","uninstall","off"],"mappings":";;;;;;;;AAAA,IAAMA,SAASC,QAAQ,gBAAR,CAAf;AACA;;AAEA;;;;;;AAMAC,OAAOC,OAAP;AAAA;;AACE,oBAAaC,IAAb,EAAmBC,IAAnB,EAAyB;AAAA;;AAAA,iDACvB,mBAAMD,IAAN,EAAYC,IAAZ,CADuB;;AAEvB,UAAKC,IAAL,GAAY,UAAZ;AACA,UAAKC,EAAL,GAAU,UAAV;AACA,UAAKC,KAAL,GAAa,WAAb;;AAEA;AACA,QAAMC,iBAAiB,EAAvB;;AAEA;AACA,UAAKJ,IAAL,GAAY,SAAc,EAAd,EAAkBI,cAAlB,EAAkCJ,IAAlC,CAAZ;;AAEA,UAAKK,iBAAL,GAAyB,MAAKA,iBAAL,CAAuBC,IAAvB,OAAzB;AAZuB;AAaxB;;AAdH,qBAgBED,iBAhBF,8BAgBqBE,IAhBrB,EAgB2BC,KAhB3B,EAgBkCC,KAhBlC,EAgByC;AACrCC,YAAQC,KAAR,CAAc,OAAd;AACAD,YAAQE,GAAR,CAAY,MAAZ,EAAoBL,IAApB;AACAG,YAAQE,GAAR,CAAY,MAAZ,EAAoBJ,KAApB;AACAE,YAAQE,GAAR,CAAY,OAAZ,EAAqBH,KAArB;AACAC,YAAQG,QAAR;AACD,GAtBH;;AAAA,qBAwBEC,OAxBF,sBAwBa;AACT,SAAKf,IAAL,CAAUgB,EAAV,CAAa,cAAb,EAA6B,KAAKV,iBAAlC;AACD,GA1BH;;AAAA,qBA4BEW,SA5BF,wBA4Be;AACX,SAAKjB,IAAL,CAAUkB,GAAV,CAAc,cAAd,EAA8B,KAAKZ,iBAAnC;AACD,GA9BH;;AAAA;AAAA,EAAwCV,MAAxC","file":"MagicLog.js","sourcesContent":["const Plugin = require('../core/Plugin')\r\n// import deepDiff from 'deep-diff'\r\n\r\n/**\r\n * Magic Log\r\n * Helps debug Uppy\r\n * inspired by https://github.com/yoshuawuyts/choo-log\r\n *\r\n */\r\nmodule.exports = class MagicLog extends Plugin {\r\n  constructor (uppy, opts) {\r\n    super(uppy, opts)\r\n    this.type = 'debugger'\r\n    this.id = 'MagicLog'\r\n    this.title = 'Magic Log'\r\n\r\n    // set default options\r\n    const defaultOptions = {}\r\n\r\n    // merge default options with the ones set by user\r\n    this.opts = Object.assign({}, defaultOptions, opts)\r\n\r\n    this.handleStateUpdate = this.handleStateUpdate.bind(this)\r\n  }\r\n\r\n  handleStateUpdate (prev, state, patch) {\r\n    console.group('State')\r\n    console.log('Prev', prev)\r\n    console.log('Next', state)\r\n    console.log('Patch', patch)\r\n    console.groupEnd()\r\n  }\r\n\r\n  install () {\r\n    this.uppy.on('state-update', this.handleStateUpdate)\r\n  }\r\n\r\n  uninstall () {\r\n    this.uppy.off('state-update', this.handleStateUpdate)\r\n  }\r\n}\r\n"]}