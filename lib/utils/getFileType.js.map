{"version":3,"sources":["../../src/utils/getFileType.js"],"names":["getFileNameAndExtension","require","mimeTypes","module","exports","getFileType","file","fileExtension","name","extension","isRemote","type"],"mappings":"AAAA,IAAMA,0BAA0BC,QAAQ,2BAAR,CAAhC;AACA,IAAMC,YAAYD,QAAQ,aAAR,CAAlB;;AAEAE,OAAOC,OAAP,GAAiB,SAASC,WAAT,CAAsBC,IAAtB,EAA4B;AAC3C,MAAMC,gBAAgBD,KAAKE,IAAL,GAAYR,wBAAwBM,KAAKE,IAA7B,EAAmCC,SAA/C,GAA2D,IAAjF;;AAEA,MAAIH,KAAKI,QAAT,EAAmB;AACjB;AACA,WAAOJ,KAAKK,IAAL,GAAYL,KAAKK,IAAjB,GAAwBT,UAAUK,aAAV,CAA/B;AACD;;AAED;AACA,MAAID,KAAKK,IAAT,EAAe;AACb,WAAOL,KAAKK,IAAZ;AACD;;AAED;AACA,MAAIJ,iBAAiBL,UAAUK,aAAV,CAArB,EAA+C;AAC7C,WAAOL,UAAUK,aAAV,CAAP;AACD;;AAED;AACA,SAAO,IAAP;AACD,CApBD","file":"getFileType.js","sourcesContent":["const getFileNameAndExtension = require('./getFileNameAndExtension')\r\nconst mimeTypes = require('./mimeTypes')\r\n\r\nmodule.exports = function getFileType (file) {\r\n  const fileExtension = file.name ? getFileNameAndExtension(file.name).extension : null\r\n\r\n  if (file.isRemote) {\r\n    // some remote providers do not support file types\r\n    return file.type ? file.type : mimeTypes[fileExtension]\r\n  }\r\n\r\n  // check if mime type is set in the file object\r\n  if (file.type) {\r\n    return file.type\r\n  }\r\n\r\n  // see if we can map extension to a mime type\r\n  if (fileExtension && mimeTypes[fileExtension]) {\r\n    return mimeTypes[fileExtension]\r\n  }\r\n\r\n  // if all fails, well, return empty\r\n  return null\r\n}\r\n"]}