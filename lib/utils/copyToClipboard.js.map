{"version":3,"sources":["../../src/utils/copyToClipboard.js"],"names":["module","exports","copyToClipboard","textToCopy","fallbackString","resolve","textArea","document","createElement","setAttribute","position","top","left","width","height","padding","border","outline","boxShadow","background","value","body","appendChild","select","magicCopyFailed","removeChild","window","prompt","successful","execCommand","err"],"mappings":";;AAAA;;;;;;;;;;AAUAA,OAAOC,OAAP,GAAiB,SAASC,eAAT,CAA0BC,UAA1B,EAAsCC,cAAtC,EAAsD;AACrEA,mBAAiBA,kBAAkB,oBAAnC;;AAEA,SAAO,aAAY,UAACC,OAAD,EAAa;AAC9B,QAAMC,WAAWC,SAASC,aAAT,CAAuB,UAAvB,CAAjB;AACAF,aAASG,YAAT,CAAsB,OAAtB,EAA+B;AAC7BC,gBAAU,OADmB;AAE7BC,WAAK,CAFwB;AAG7BC,YAAM,CAHuB;AAI7BC,aAAO,KAJsB;AAK7BC,cAAQ,KALqB;AAM7BC,eAAS,CANoB;AAO7BC,cAAQ,MAPqB;AAQ7BC,eAAS,MARoB;AAS7BC,iBAAW,MATkB;AAU7BC,kBAAY;AAViB,KAA/B;;AAaAb,aAASc,KAAT,GAAiBjB,UAAjB;AACAI,aAASc,IAAT,CAAcC,WAAd,CAA0BhB,QAA1B;AACAA,aAASiB,MAAT;;AAEA,QAAMC,kBAAkB,SAAlBA,eAAkB,GAAM;AAC5BjB,eAASc,IAAT,CAAcI,WAAd,CAA0BnB,QAA1B;AACAoB,aAAOC,MAAP,CAAcvB,cAAd,EAA8BD,UAA9B;AACAE;AACD,KAJD;;AAMA,QAAI;AACF,UAAMuB,aAAarB,SAASsB,WAAT,CAAqB,MAArB,CAAnB;AACA,UAAI,CAACD,UAAL,EAAiB;AACf,eAAOJ,gBAAgB,0BAAhB,CAAP;AACD;AACDjB,eAASc,IAAT,CAAcI,WAAd,CAA0BnB,QAA1B;AACA,aAAOD,SAAP;AACD,KAPD,CAOE,OAAOyB,GAAP,EAAY;AACZvB,eAASc,IAAT,CAAcI,WAAd,CAA0BnB,QAA1B;AACA,aAAOkB,gBAAgBM,GAAhB,CAAP;AACD;AACF,GApCM,CAAP;AAqCD,CAxCD","file":"copyToClipboard.js","sourcesContent":["/**\r\n * Copies text to clipboard by creating an almost invisible textarea,\r\n * adding text there, then running execCommand('copy').\r\n * Falls back to prompt() when the easy way fails (hello, Safari!)\r\n * From http://stackoverflow.com/a/30810322\r\n *\r\n * @param {String} textToCopy\r\n * @param {String} fallbackString\r\n * @return {Promise}\r\n */\r\nmodule.exports = function copyToClipboard (textToCopy, fallbackString) {\r\n  fallbackString = fallbackString || 'Copy the URL below'\r\n\r\n  return new Promise((resolve) => {\r\n    const textArea = document.createElement('textarea')\r\n    textArea.setAttribute('style', {\r\n      position: 'fixed',\r\n      top: 0,\r\n      left: 0,\r\n      width: '2em',\r\n      height: '2em',\r\n      padding: 0,\r\n      border: 'none',\r\n      outline: 'none',\r\n      boxShadow: 'none',\r\n      background: 'transparent'\r\n    })\r\n\r\n    textArea.value = textToCopy\r\n    document.body.appendChild(textArea)\r\n    textArea.select()\r\n\r\n    const magicCopyFailed = () => {\r\n      document.body.removeChild(textArea)\r\n      window.prompt(fallbackString, textToCopy)\r\n      resolve()\r\n    }\r\n\r\n    try {\r\n      const successful = document.execCommand('copy')\r\n      if (!successful) {\r\n        return magicCopyFailed('copy command unavailable')\r\n      }\r\n      document.body.removeChild(textArea)\r\n      return resolve()\r\n    } catch (err) {\r\n      document.body.removeChild(textArea)\r\n      return magicCopyFailed(err)\r\n    }\r\n  })\r\n}\r\n"]}